{"version":3,"sources":["components/PersonForm.js","components/Person.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["PersonForm","props","onSubmit","handleSubmit","onChange","handleNameChange","value","newName","handleNumberChange","newNumber","type","Person","person","destroyPerson","name","number","onClick","Notification","message","className","axios","get","then","response","data","newObject","post","id","delete","App","useState","persons","setPersons","filter","setFilter","setNewName","setNewNumber","notificationMessage","setNotificationMessage","notificationType","setNotificationType","filteredPeople","length","toLowerCase","indexOf","useEffect","personService","initialPersons","event","target","preventDefault","map","includes","alert","returnedPerson","concat","setTimeout","catch","error","key","window","confirm","p","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.bcee103b.chunk.js","sourcesContent":["import React from 'react'\n\nconst PersonForm = (props) => {\n\treturn (\n\t\t<form onSubmit={props.handleSubmit}>\n\t\t\t<div>\n\t\t\t\tName: <input onChange={props.handleNameChange} value={props.newName} />\n\t\t\t\t<br />\n\t\t\t\tPhone Number: <input onChange={props.handleNumberChange} value={props.newNumber} />\n\t\t\t\t<br />\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<button type=\"submit\">Add Person</button>\n\t\t\t</div>\n\t\t</form>\n\t)\n}\n\nexport default PersonForm\n","import React from 'react'\n\nconst Person = ({ person, destroyPerson }) => {\n\treturn (\n\t\t<div>\n\t\t\t<p>\n\t\t\t\t{person.name} {person.number}\n\t\t\t\t<button onClick={destroyPerson}>Delete</button>\n\t\t\t</p> \n\t\t</div>\n\t)\n}\n\nexport default Person","import React from 'react'\n\nconst Notification = ({ message, type }) => {\n\tif (message === null) {\n\t\treturn null\n\t}\n\n\treturn (\n\t\t<div className={type}>\n\t\t\t{message}\n\t\t</div>\n\t)\n}\n\nexport default Notification","import axios from 'axios'\n\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n\tconst request = axios.get(baseUrl)\n\treturn request.then(response => response.data)\n}\n\nconst create = (newObject) => {\n\tconst request = axios.post(baseUrl, newObject)\n\treturn request.then(response => response.data)\n}\n\nconst destroy = (id) => {\n\tconst request = axios.delete(`${baseUrl}/${id}`)\n\treturn request.then(response => response.data)\n }\n\nexport default { getAll, create, destroy }","import React, { useState, useEffect } from 'react'\nimport PersonForm from './components/PersonForm'\nimport Person from './components/Person'\nimport Notification from './components/Notification'\n\nimport personService from './services/persons'\n\nconst App = () => {\n\tconst [persons, setPersons] = useState([])\n\tconst [filter, setFilter] = useState('')\n\tconst [newName, setNewName] = useState('')\n\tconst [newNumber, setNewNumber] = useState('')\n\tconst [notificationMessage, setNotificationMessage] = useState(null)\n\tconst [notificationType, setNotificationType] = useState(null)\n\n\tconst filteredPeople =\n\t\tfilter.length === 0\n\t\t\t? persons\n\t\t\t: persons.filter(\n\t\t\t\t\t(person) =>\n\t\t\t\t\t\tperson.name.toLowerCase().indexOf(filter.toLowerCase()) > -1\n\t\t\t  )\n\n\tuseEffect(() => {\n\t\tpersonService.getAll().then((initialPersons) => {\n\t\t\tsetPersons(initialPersons)\n\t\t})\n\t}, [])\n\n\tconst handleFilterChange = (event) => {\n\t\tsetFilter(event.target.value)\n\t}\n\n\tconst handleNameChange = (event) => {\n\t\tsetNewName(event.target.value)\n\t}\n\n\tconst handleNumberChange = (event) => {\n\t\tsetNewNumber(event.target.value)\n\t}\n\n\tconst handleSubmit = (event) => {\n\t\tevent.preventDefault()\n\t\tconst names = persons.map((person) => person.name.toLowerCase())\n\n\t\tif (names.includes(newName.toLowerCase())) {\n\t\t\talert(`${newName} is already in the phonebook!`)\n\t\t} else {\n\t\t\tconst newPersonObject = {\n\t\t\t\tname: newName,\n\t\t\t\tnumber: newNumber,\n\t\t\t}\n\n\t\t\tpersonService\n\t\t\t\t.create(newPersonObject)\n\t\t\t\t.then((returnedPerson) => {\n\t\t\t\t\tsetPersons(persons.concat(returnedPerson))\n\t\t\t\t\tsetNotificationMessage(`Added ${returnedPerson.name}`)\n\t\t\t\t\tsetNotificationType('success')\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tsetNotificationMessage(null)\n\t\t\t\t\t\tsetNotificationType(null)\n\t\t\t\t\t}, 5000)\n\t\t\t\t\tsetNewName('')\n\t\t\t\t\tsetNewNumber('')\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tsetNotificationMessage(error.response.data.error)\n\t\t\t\t\tsetNotificationType('error')\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tsetNotificationMessage(null)\n\t\t\t\t\t\tsetNotificationType(null)\n\t\t\t\t\t}, 5000)\n\t\t\t\t})\n\t\t}\n\t}\n\n\tconst destroyPerson = (id) => {\n\t\tconst result = window.confirm('Do you wish to do this person?')\n\n\t\tif (result) {\n\t\t\tpersonService\n\t\t\t\t.destroy(id)\n\t\t\t\t.then((response) => {\n\t\t\t\t\tsetPersons(persons.filter((p) => p.id !== id))\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\talert('Could not delete from server')\n\t\t\t\t})\n\t\t}\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<h1>Phonebook</h1>\n\t\t\tFilter List: <input onChange={handleFilterChange} value={filter} />\n\t\t\t<Notification message={notificationMessage} type={notificationType}/>\n\t\t\t<h3>Add a New Person</h3>\n\t\t\t<PersonForm\n\t\t\t\thandleSubmit={handleSubmit}\n\t\t\t\thandleNameChange={handleNameChange}\n\t\t\t\tnewName={newName}\n\t\t\t\thandleNumberChange={handleNumberChange}\n\t\t\t\tnewNumber={newNumber}\n\t\t\t/>\n\t\t\t<h2>Numbers</h2>\n\t\t\t{filteredPeople.map((person) => (\n\t\t\t\t<Person\n\t\t\t\t\tkey={person.id}\n\t\t\t\t\tperson={person}\n\t\t\t\t\tdestroyPerson={() => destroyPerson(person.id)}\n\t\t\t\t/>\n\t\t\t))}\n\t\t</div>\n\t)\n}\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nimport './index.css'\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n)\n\n"],"sourceRoot":""}